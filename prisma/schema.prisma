generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model fornecedor {
  idFornecedor Int       @id @default(autoincrement())
  dsFornecedor String?   @db.VarChar(45)
  produto      produto[]
}

model funcionario {
  idFuncionario Int     @id @default(autoincrement())
  dsFuncionario String? @unique @db.VarChar(45)
  nrCpf         String? @db.VarChar(45)
  dsSenha       String? @db.VarChar(50)
  dsFuncao      String? @db.VarChar(50)
  venda         venda[]
}

model item {
  idItem    Int      @id @default(autoincrement())
  qtItem    Int?
  vlParcial Decimal? @db.Decimal(7, 2)
  idProduto Int?
  idVenda   Int?
  produto   produto? @relation(fields: [idProduto], references: [idProduto], onDelete: NoAction, onUpdate: NoAction)
  venda     venda?   @relation(fields: [idVenda], references: [idVenda], onDelete: NoAction, onUpdate: NoAction)
}

model produto {
  idProduto    Int         @id @default(autoincrement())
  dsProduto    String?     @db.VarChar(45)
  vlProduto    Decimal?    @db.Decimal(7, 2)
  qtProduto    Int?
  idFornecedor Int?
  item         item[]
  fornecedor   fornecedor? @relation(fields: [idFornecedor], references: [idFornecedor], onDelete: NoAction, onUpdate: NoAction)
}

model venda {
  idVenda       Int          @id @default(autoincrement())
  dtVenda       DateTime?    @default(now())
  vlTotal       Decimal?     @db.Decimal(7, 2)
  idFuncionario Int?
  item          item[]
  funcionario   funcionario? @relation(fields: [idFuncionario], references: [idFuncionario], onDelete: NoAction, onUpdate: NoAction)
}
